<Window x:Class="ReadMore.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="📚 ReadMore - Beheer"
        Height="700" Width="1100"
        WindowStartupLocation="CenterScreen"
        Background="#F3F4F6"
        FontFamily="Segoe UI"
        FontSize="14">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#E8EBF7" Offset="0"/>
                <GradientStop Color="#F9FAFB" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Border CornerRadius="16" Background="White" Margin="20" Padding="15">
            <Border.Effect>
                <DropShadowEffect BlurRadius="20" ShadowDepth="2" Opacity="0.2"/>
            </Border.Effect>

            <DockPanel>

                <!-- Header & Logout -->
                <DockPanel DockPanel.Dock="Top" LastChildFill="False" Margin="0,0,0,15">
                    <TextBlock Text="📚 ReadMore Beheersysteem"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="#2B3A67"
                               VerticalAlignment="Center"/>
                    <Button Content="🚪 Logout" Width="100" Height="32"
                            Background="#E5E7EB" Foreground="#2B3A67" BorderThickness="0"
                            HorizontalAlignment="Right"
                            DockPanel.Dock="Right"
                            Click="LogoutButton_Click"/>
                </DockPanel>

                <TabControl x:Name="MainTabControl" Background="White"
                            BorderThickness="0" Padding="10"
                            FontSize="13" FontWeight="SemiBold">

                    <!-- Catalogus -->
                    <TabItem Header="📚 Catalogus">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Grid Width="300" Height="32" Margin="0,0,10,0">
                                    <Border Background="#F9FAFB" BorderBrush="#D1D5DB"
                                            BorderThickness="1" CornerRadius="6"/>
                                    <TextBox x:Name="CatalogusSearchTextBox"
                                             VerticalAlignment="Center"
                                             Padding="6"
                                             Background="Transparent"
                                             BorderThickness="0"
                                             TextChanged="CatalogusSearchTextBox_TextChanged"/>
                                    <TextBlock Text="Zoek een boek..."
                                               Foreground="Gray"
                                               IsHitTestVisible="False"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               x:Name="CatalogusPlaceholder"/>
                                </Grid>

                                <Button Content="🛒 Nieuwe Bestelling" Width="160" Height="32" Margin="0,0,8,0"
                                        Background="#2B3A67" Foreground="White" BorderThickness="0"
                                        Click="CreateOrderButton_Click"/>
                            </StackPanel>

                            <DataGrid x:Name="CatalogusDataGrid" Grid.Row="1"
                                      AutoGenerateColumns="False"
                                      IsReadOnly="True"
                                      CanUserAddRows="False"
                                      BorderBrush="#E5E7EB"
                                      RowBackground="White"
                                      AlternatingRowBackground="#F9FAFB">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Titel" Binding="{Binding Title}" Width="*"/>
                                    <DataGridTextColumn Header="Auteur" Binding="{Binding Author}" Width="200"/>
                                    <DataGridTextColumn Header="ISBN" Binding="{Binding ISBN}" Width="150"/>
                                    <DataGridTextColumn Header="Prijs (€)" Binding="{Binding Price}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <!-- Admin: Boekenbeheer -->
                    <TabItem Header="🛠️ BoekenBeheer">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Grid Width="300" Height="32" Margin="0,0,10,0">
                                    <Border Background="#F9FAFB" BorderBrush="#D1D5DB"
                                            BorderThickness="1" CornerRadius="6"/>
                                    <TextBox x:Name="AdminSearchTextBox"
                                             VerticalAlignment="Center"
                                             Padding="6"
                                             Background="Transparent"
                                             BorderThickness="0"
                                             TextChanged="AdminSearchTextBox_TextChanged"/>
                                    <TextBlock Text="Zoek boeken..."
                                               Foreground="Gray"
                                               IsHitTestVisible="False"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               x:Name="AdminPlaceholder"/>
                                </Grid>

                                <Button Content="📘 Voeg Boek Toe" Width="130" Height="32" Margin="0,0,8,0"
                                        Background="#10B981" Foreground="White" BorderThickness="0"
                                        Click="AddBookButton_Click"/>
                                <Button Content="✏️ Bewerk Boek" Width="130" Height="32" Margin="0,0,8,0"
                                        Background="#3B82F6" Foreground="White" BorderThickness="0"
                                        Click="EditBookButton_Click"/>
                                <Button Content="❌ Verwijder Boek" Width="130" Height="32" Margin="0,0,8,0"
                                        Background="#EF4444" Foreground="White" BorderThickness="0"
                                        Click="DeleteBookButton_Click"/>
                            </StackPanel>

                            <DataGrid x:Name="AdminBooksDataGrid" AutoGenerateColumns="False" CanUserAddRows="False"
                                      IsReadOnly="True" AlternatingRowBackground="#F9FAFB" Grid.Row="1">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Titel" Binding="{Binding Title}" Width="*"/>
                                    <DataGridTextColumn Header="Auteur" Binding="{Binding Author}" Width="200"/>
                                    <DataGridTextColumn Header="ISBN" Binding="{Binding ISBN}" Width="150"/>
                                    <DataGridTextColumn Header="Prijs (€)" Binding="{Binding Price}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <!-- Admin: Bestellingsbeheer -->
                    <TabItem Header="📦 Bestellingsbeheer">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Button Content="⟳ Vernieuw" Width="100" Height="32" Margin="0,0,8,0"
                                        Background="#F59E0B" Foreground="White" BorderThickness="0"
                                        Click="RefreshOrdersButton_Click"/>
                                <Button Content="✓ Markeer Verwerkt" Width="160" Height="32"
                                        Background="#6D28D9" Foreground="White" BorderThickness="0"
                                        Click="MarkProcessedButton_Click"/>
                            </StackPanel>

                            <DataGrid x:Name="AdminOrdersDataGrid" AutoGenerateColumns="False"
                                      CanUserAddRows="False" AlternatingRowBackground="#F9FAFB"
                                      Grid.Row="1" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80"/>
                                    <DataGridTextColumn Header="Gebruiker" Binding="{Binding UserName}" Width="150"/>
                                    <DataGridTextColumn Header="Boeken" Binding="{Binding BookTitles}" Width="*"/>
                                    <DataGridTextColumn Header="Totaal (€)" Binding="{Binding TotalPrice}" Width="100"/>
                                    <DataGridCheckBoxColumn Header="Verwerkt" Binding="{Binding IsProcessed}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <!-- Gebruikersbeheer -->
                    <TabItem Header="👥 Gebruikersbeheer">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <Grid Width="300" Height="32" Margin="0,0,10,0">
                                    <Border Background="#F9FAFB" BorderBrush="#D1D5DB"
                                            BorderThickness="1" CornerRadius="6"/>
                                    <TextBox x:Name="UsersSearchTextBox"
                                             VerticalAlignment="Center"
                                             Padding="6"
                                             Background="Transparent"
                                             BorderThickness="0"
                                             TextChanged="UsersSearchTextBox_TextChanged"/>
                                    <TextBlock Text="Zoek gebruiker..."
                                               Foreground="Gray"
                                               IsHitTestVisible="False"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               x:Name="UsersPlaceholder"/>
                                </Grid>

                                <Button Content="❌ Verwijder gebruiker" Width="160" Height="32"
                                        Background="#EF4444" Foreground="White" BorderThickness="0"
                                        Click="DeleteUserButton_Click"/>
                            </StackPanel>

                            <DataGrid x:Name="UsersDataGrid" AutoGenerateColumns="False"
                                      CanUserAddRows="False" AlternatingRowBackground="#F9FAFB"
                                      SelectionMode="Single" Grid.Row="1">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Gebruikersnaam" Binding="{Binding UserName}" Width="*"/>
                                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="200"/>
                                    <DataGridTemplateColumn Header="Rol" Width="120">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <ComboBox SelectedValue="{Binding Role, Mode=TwoWay}" Width="100"
                                                          SelectionChanged="RoleComboBox_SelectionChanged">
                                                    <ComboBoxItem Content="User"/>
                                                    <ComboBoxItem Content="Admin"/>
                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                    <!-- Publieke bestellingen -->
                    <TabItem x:Name="PublicOrdersTab" Header="📦 Bestellingen">
                        <DataGrid x:Name="OrdersDataGrid" AutoGenerateColumns="False" CanUserAddRows="False"
                                  AlternatingRowBackground="#F9FAFB" IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80"/>
                                <DataGridTextColumn Header="Gebruiker" Binding="{Binding UserName}" Width="150"/>
                                <DataGridTextColumn Header="Boeken" Binding="{Binding BookTitles}" Width="*"/>
                                <DataGridTextColumn Header="Totaal (€)" Binding="{Binding TotalPrice}" Width="100"/>
                                <DataGridTextColumn Header="Datum" Binding="{Binding OrderDate}" Width="160"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>

                    <!-- Contacteer Admin -->
                    <TabItem Header="📬 Contact">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Vertical" Margin="0,0,0,12" Grid.Row="0">
                                <TextBlock Text="Stuur een bericht naar de admins:" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                                <TextBlock Text="Onderwerp:" Margin="0,0,0,4"/>
                                <TextBox x:Name="ContactSubjectTextBox" Height="28" Padding="6"/>
                                <TextBlock Text="Bericht:" Margin="0,10,0,4"/>
                                <TextBox x:Name="ContactMessageTextBox" Height="120" Padding="6" TextWrapping="Wrap" AcceptsReturn="True"/>
                                <Button Content="✉️ Verstuur" Width="120" Height="32" Margin="0,12,0,0" Background="#3B82F6" Foreground="White" BorderThickness="0"
                                        Click="SendContactMessageButton_Click"/>
                            </StackPanel>

                            <TextBlock x:Name="ContactStatusTextBlock" Grid.Row="1" Foreground="Green" FontWeight="Bold" Margin="0,12,0,0"/>
                        </Grid>
                    </TabItem>

                    <!-- Admin Contact Messages -->
                    <TabItem Header="📬 Admin Berichten">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12" Grid.Row="0">
                                <!-- Zoekbalk -->
                                <Grid Width="300" Height="32" Margin="0,0,10,0">
                                    <Border Background="#F9FAFB" BorderBrush="#D1D5DB" BorderThickness="1" CornerRadius="6"/>
                                    <TextBox x:Name="ContactAdminSearchTextBox"
                                             VerticalAlignment="Center"
                                             Padding="6"
                                             Background="Transparent"
                                             BorderThickness="0"
                                             TextChanged="ContactAdminSearchTextBox_TextChanged"/>
                                    <TextBlock Text="Zoek berichten..."
                                               Foreground="Gray"
                                               IsHitTestVisible="False"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               x:Name="ContactAdminPlaceholder"/>
                                </Grid>

                                <!-- Buttons -->
                                <Button Content="⟳ Vernieuw" Width="100" Height="32" Margin="0,0,8,0"
                                        Background="#F59E0B" Foreground="White" BorderThickness="0"
                                        Click="RefreshContactMessagesButton_Click"/>
                                <Button Content="✓ Markeer opgelost" Width="160" Height="32" Margin="0,0,8,0"
                                        Background="#10B981" Foreground="White" BorderThickness="0"
                                        Click="MarkContactResolvedButton_Click"/>
                                <Button Content="❌ Verwijder" Width="100" Height="32"
                                        Background="#EF4444" Foreground="White" BorderThickness="0"
                                        Click="DeleteContactMessageButton_Click"/>
                            </StackPanel>

                            <DataGrid x:Name="AdminContactMessagesDataGrid" AutoGenerateColumns="False" CanUserAddRows="False"
                                      AlternatingRowBackground="#F9FAFB" Grid.Row="1" IsReadOnly="True" SelectionMode="Single">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Gebruiker" Binding="{Binding User.UserName}" Width="150"/>
                                    <DataGridTextColumn Header="Onderwerp" Binding="{Binding Subject}" Width="*"/>
                                    <DataGridTextColumn Header="Bericht" Binding="{Binding Message}" Width="250"/>
                                    <DataGridTextColumn Header="Datum" Binding="{Binding CreatedAt}" Width="150"/>
                                    <DataGridCheckBoxColumn Header="Opgelost" Binding="{Binding IsResolved}" Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                    </TabItem>

                </TabControl>
            </DockPanel>
        </Border>
    </Grid>
</Window>
